<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width , initial-scale=1.0">
    <title>Game character</title>
    <style>
      body {
                margin:0;     
                overflow: hidden;
      }
     #myCanvas {
                                 border:4px solid #000000;
      }
    </style>
  </head>
  <body>
    <h2>A sprite walking on the canvas</h2>
<img src="walk-right.png" id="_walk" style="display:none;">
    <canvas id="myCanvas" width="1000" height="400">  </canvas>

    <script>
      var canvas = document.getElementById('myCanvas');
      var w = canvas.width;
      var h = canvas.height;
      var obj = canvas.getContext('2d');
      obj.fillStyle = 'rgb(50,0,0)';
      obj.fillRect(0,0,w,h);
      obj.translate(w/2,h/2);
      var image=document.getElementById('_walk');
      window.onload=anime;
var sprite=0;
var posX=0;
function anime(){
              obj.fillRect(-(w/2),-(h/2),w,h);
obj.drawImage(image, (sprite*102), 0, 102, 148, 0+posX, -74, 102, 148);   
if (posX % 16 === 0) {
    if (sprite === 5) {
      sprite = 0;
    } else {
      sprite++;
    }
  }
if(posX > w/2) {
    newStart = -((w/2) + 102);
    posX = Math.ceil(newStart/16) * 16;
  } else {
    posX += 5;
  }
window.requestAnimationFrame(anime);
};

    </script>
  </body>
</html>
